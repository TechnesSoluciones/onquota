# Alembic Database Migrations

This directory contains database migration scripts managed by Alembic.

## Common Commands

### Create a new migration
```bash
alembic revision --autogenerate -m "description of changes"
```

### Apply migrations
```bash
# Upgrade to latest
alembic upgrade head

# Upgrade by one revision
alembic upgrade +1

# Upgrade to specific revision
alembic upgrade <revision_id>
```

### Rollback migrations
```bash
# Downgrade by one revision
alembic downgrade -1

# Downgrade to specific revision
alembic downgrade <revision_id>

# Downgrade to base (remove all)
alembic downgrade base
```

### View migration history
```bash
# Show current revision
alembic current

# Show migration history
alembic history

# Show detailed history
alembic history --verbose
```

## Best Practices

1. Always review auto-generated migrations before applying
2. Test migrations in development before production
3. Include both upgrade and downgrade logic
4. Use descriptive migration messages
5. Never modify existing migration files after they've been applied
6. Keep migrations small and focused on one change

## Migration Structure

Each migration file includes:
- **revision**: Unique identifier for this migration
- **down_revision**: Previous migration this depends on
- **upgrade()**: Changes to apply when upgrading
- **downgrade()**: Changes to revert when downgrading
